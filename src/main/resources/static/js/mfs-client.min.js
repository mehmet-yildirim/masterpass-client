/*! mfs-client 22-05-2018 */
function BigInteger(a, b, c) {
    null != a && ("number" == typeof a ? this.fromNumber(a, b, c) : null == b && "string" != typeof a ? this.fromString(a, 256) : this.fromString(a, b))
}

function nbi() {
    return new BigInteger(null)
}

function am1(a, b, c, d, e, f) {
    for (; --f >= 0;) {
        var g = b * this[a++] + c[d] + e;
        e = Math.floor(g / 67108864), c[d++] = 67108863 & g
    }
    return e
}

function am2(a, b, c, d, e, f) {
    for (var g = 32767 & b, h = b >> 15; --f >= 0;) {
        var i = 32767 & this[a], j = this[a++] >> 15, k = h * i + j * g;
        i = g * i + ((32767 & k) << 15) + c[d] + (1073741823 & e), e = (i >>> 30) + (k >>> 15) + h * j + (e >>> 30), c[d++] = 1073741823 & i
    }
    return e
}

function am3(a, b, c, d, e, f) {
    for (var g = 16383 & b, h = b >> 14; --f >= 0;) {
        var i = 16383 & this[a], j = this[a++] >> 14, k = h * i + j * g;
        i = g * i + ((16383 & k) << 14) + c[d] + e, e = (i >> 28) + (k >> 14) + h * j, c[d++] = 268435455 & i
    }
    return e
}

function int2char(a) {
    return BI_RM.charAt(a)
}

function intAt(a, b) {
    var c = BI_RC[a.charCodeAt(b)];
    return null == c ? -1 : c
}

function bnpCopyTo(a) {
    for (var b = this.t - 1; b >= 0; --b) a[b] = this[b];
    a.t = this.t, a.s = this.s
}

function bnpFromInt(a) {
    this.t = 1, this.s = a < 0 ? -1 : 0, a > 0 ? this[0] = a : a < -1 ? this[0] = a + this.DV : this.t = 0
}

function nbv(a) {
    var b = nbi();
    return b.fromInt(a), b
}

function bnpFromString(a, b) {
    var c;
    if (16 == b) c = 4; else if (8 == b) c = 3; else if (256 == b) c = 8; else if (2 == b) c = 1; else if (32 == b) c = 5; else {
        if (4 != b) return void this.fromRadix(a, b);
        c = 2
    }
    this.t = 0, this.s = 0;
    for (var d = a.length, e = !1, f = 0; --d >= 0;) {
        var g = 8 == c ? 255 & a[d] : intAt(a, d);
        g < 0 ? "-" == a.charAt(d) && (e = !0) : (e = !1, 0 == f ? this[this.t++] = g : f + c > this.DB ? (this[this.t - 1] |= (g & (1 << this.DB - f) - 1) << f, this[this.t++] = g >> this.DB - f) : this[this.t - 1] |= g << f, (f += c) >= this.DB && (f -= this.DB))
    }
    8 == c && 0 != (128 & a[0]) && (this.s = -1, f > 0 && (this[this.t - 1] |= (1 << this.DB - f) - 1 << f)), this.clamp(), e && BigInteger.ZERO.subTo(this, this)
}

function bnpClamp() {
    for (var a = this.s & this.DM; this.t > 0 && this[this.t - 1] == a;) --this.t
}

function bnToString(a) {
    if (this.s < 0) return "-" + this.negate().toString(a);
    var b;
    if (16 == a) b = 4; else if (8 == a) b = 3; else if (2 == a) b = 1; else if (32 == a) b = 5; else {
        if (4 != a) return this.toRadix(a);
        b = 2
    }
    var c, d = (1 << b) - 1, e = !1, f = "", g = this.t, h = this.DB - g * this.DB % b;
    if (g-- > 0) for (h < this.DB && (c = this[g] >> h) > 0 && (e = !0, f = int2char(c)); g >= 0;) h < b ? (c = (this[g] & (1 << h) - 1) << b - h, c |= this[--g] >> (h += this.DB - b)) : (c = this[g] >> (h -= b) & d, h <= 0 && (h += this.DB, --g)), c > 0 && (e = !0), e && (f += int2char(c));
    return e ? f : "0"
}

function bnNegate() {
    var a = nbi();
    return BigInteger.ZERO.subTo(this, a), a
}

function bnAbs() {
    return this.s < 0 ? this.negate() : this
}

function bnCompareTo(a) {
    var b = this.s - a.s;
    if (0 != b) return b;
    var c = this.t;
    if (0 != (b = c - a.t)) return this.s < 0 ? -b : b;
    for (; --c >= 0;) if (0 != (b = this[c] - a[c])) return b;
    return 0
}

function nbits(a) {
    var b, c = 1;
    return 0 != (b = a >>> 16) && (a = b, c += 16), 0 != (b = a >> 8) && (a = b, c += 8), 0 != (b = a >> 4) && (a = b, c += 4), 0 != (b = a >> 2) && (a = b, c += 2), 0 != (b = a >> 1) && (a = b, c += 1), c
}

function bnBitLength() {
    return this.t <= 0 ? 0 : this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ this.s & this.DM)
}

function bnpDLShiftTo(a, b) {
    var c;
    for (c = this.t - 1; c >= 0; --c) b[c + a] = this[c];
    for (c = a - 1; c >= 0; --c) b[c] = 0;
    b.t = this.t + a, b.s = this.s
}

function bnpDRShiftTo(a, b) {
    for (var c = a; c < this.t; ++c) b[c - a] = this[c];
    b.t = Math.max(this.t - a, 0), b.s = this.s
}

function bnpLShiftTo(a, b) {
    var c, d = a % this.DB, e = this.DB - d, f = (1 << e) - 1, g = Math.floor(a / this.DB), h = this.s << d & this.DM;
    for (c = this.t - 1; c >= 0; --c) b[c + g + 1] = this[c] >> e | h, h = (this[c] & f) << d;
    for (c = g - 1; c >= 0; --c) b[c] = 0;
    b[g] = h, b.t = this.t + g + 1, b.s = this.s, b.clamp()
}

function bnpRShiftTo(a, b) {
    b.s = this.s;
    var c = Math.floor(a / this.DB);
    if (c >= this.t) return void (b.t = 0);
    var d = a % this.DB, e = this.DB - d, f = (1 << d) - 1;
    b[0] = this[c] >> d;
    for (var g = c + 1; g < this.t; ++g) b[g - c - 1] |= (this[g] & f) << e, b[g - c] = this[g] >> d;
    d > 0 && (b[this.t - c - 1] |= (this.s & f) << e), b.t = this.t - c, b.clamp()
}

function bnpSubTo(a, b) {
    for (var c = 0, d = 0, e = Math.min(a.t, this.t); c < e;) d += this[c] - a[c], b[c++] = d & this.DM, d >>= this.DB;
    if (a.t < this.t) {
        for (d -= a.s; c < this.t;) d += this[c], b[c++] = d & this.DM, d >>= this.DB;
        d += this.s
    } else {
        for (d += this.s; c < a.t;) d -= a[c], b[c++] = d & this.DM, d >>= this.DB;
        d -= a.s
    }
    b.s = d < 0 ? -1 : 0, d < -1 ? b[c++] = this.DV + d : d > 0 && (b[c++] = d), b.t = c, b.clamp()
}

function bnpMultiplyTo(a, b) {
    var c = this.abs(), d = a.abs(), e = c.t;
    for (b.t = e + d.t; --e >= 0;) b[e] = 0;
    for (e = 0; e < d.t; ++e) b[e + c.t] = c.am(0, d[e], b, e, 0, c.t);
    b.s = 0, b.clamp(), this.s != a.s && BigInteger.ZERO.subTo(b, b)
}

function bnpSquareTo(a) {
    for (var b = this.abs(), c = a.t = 2 * b.t; --c >= 0;) a[c] = 0;
    for (c = 0; c < b.t - 1; ++c) {
        var d = b.am(c, b[c], a, 2 * c, 0, 1);
        (a[c + b.t] += b.am(c + 1, 2 * b[c], a, 2 * c + 1, d, b.t - c - 1)) >= b.DV && (a[c + b.t] -= b.DV, a[c + b.t + 1] = 1)
    }
    a.t > 0 && (a[a.t - 1] += b.am(c, b[c], a, 2 * c, 0, 1)), a.s = 0, a.clamp()
}

function bnpDivRemTo(a, b, c) {
    var d = a.abs();
    if (!(d.t <= 0)) {
        var e = this.abs();
        if (e.t < d.t) return null != b && b.fromInt(0), void (null != c && this.copyTo(c));
        null == c && (c = nbi());
        var f = nbi(), g = this.s, h = a.s, i = this.DB - nbits(d[d.t - 1]);
        i > 0 ? (d.lShiftTo(i, f), e.lShiftTo(i, c)) : (d.copyTo(f), e.copyTo(c));
        var j = f.t, k = f[j - 1];
        if (0 != k) {
            var l = k * (1 << this.F1) + (j > 1 ? f[j - 2] >> this.F2 : 0), m = this.FV / l, n = (1 << this.F1) / l,
                o = 1 << this.F2, p = c.t, q = p - j, r = null == b ? nbi() : b;
            for (f.dlShiftTo(q, r), c.compareTo(r) >= 0 && (c[c.t++] = 1, c.subTo(r, c)), BigInteger.ONE.dlShiftTo(j, r), r.subTo(f, f); f.t < j;) f[f.t++] = 0;
            for (; --q >= 0;) {
                var s = c[--p] == k ? this.DM : Math.floor(c[p] * m + (c[p - 1] + o) * n);
                if ((c[p] += f.am(0, s, c, q, 0, j)) < s) for (f.dlShiftTo(q, r), c.subTo(r, c); c[p] < --s;) c.subTo(r, c)
            }
            null != b && (c.drShiftTo(j, b), g != h && BigInteger.ZERO.subTo(b, b)), c.t = j, c.clamp(), i > 0 && c.rShiftTo(i, c), g < 0 && BigInteger.ZERO.subTo(c, c)
        }
    }
}

function bnMod(a) {
    var b = nbi();
    return this.abs().divRemTo(a, null, b), this.s < 0 && b.compareTo(BigInteger.ZERO) > 0 && a.subTo(b, b), b
}

function Classic(a) {
    this.m = a
}

function cConvert(a) {
    return a.s < 0 || a.compareTo(this.m) >= 0 ? a.mod(this.m) : a
}

function cRevert(a) {
    return a
}

function cReduce(a) {
    a.divRemTo(this.m, null, a)
}

function cMulTo(a, b, c) {
    a.multiplyTo(b, c), this.reduce(c)
}

function cSqrTo(a, b) {
    a.squareTo(b), this.reduce(b)
}

function bnpInvDigit() {
    if (this.t < 1) return 0;
    var a = this[0];
    if (0 == (1 & a)) return 0;
    var b = 3 & a;
    return b = b * (2 - (15 & a) * b) & 15, b = b * (2 - (255 & a) * b) & 255, b = b * (2 - ((65535 & a) * b & 65535)) & 65535, b = b * (2 - a * b % this.DV) % this.DV, b > 0 ? this.DV - b : -b
}

function Montgomery(a) {
    this.m = a, this.mp = a.invDigit(), this.mpl = 32767 & this.mp, this.mph = this.mp >> 15, this.um = (1 << a.DB - 15) - 1, this.mt2 = 2 * a.t
}

function montConvert(a) {
    var b = nbi();
    return a.abs().dlShiftTo(this.m.t, b), b.divRemTo(this.m, null, b), a.s < 0 && b.compareTo(BigInteger.ZERO) > 0 && this.m.subTo(b, b), b
}

function montRevert(a) {
    var b = nbi();
    return a.copyTo(b), this.reduce(b), b
}

function montReduce(a) {
    for (; a.t <= this.mt2;) a[a.t++] = 0;
    for (var b = 0; b < this.m.t; ++b) {
        var c = 32767 & a[b], d = c * this.mpl + ((c * this.mph + (a[b] >> 15) * this.mpl & this.um) << 15) & a.DM;
        for (c = b + this.m.t, a[c] += this.m.am(0, d, a, b, 0, this.m.t); a[c] >= a.DV;) a[c] -= a.DV, a[++c]++
    }
    a.clamp(), a.drShiftTo(this.m.t, a), a.compareTo(this.m) >= 0 && a.subTo(this.m, a)
}

function montSqrTo(a, b) {
    a.squareTo(b), this.reduce(b)
}

function montMulTo(a, b, c) {
    a.multiplyTo(b, c), this.reduce(c)
}

function bnpIsEven() {
    return 0 == (this.t > 0 ? 1 & this[0] : this.s)
}

function bnpExp(a, b) {
    if (a > 4294967295 || a < 1) return BigInteger.ONE;
    var c = nbi(), d = nbi(), e = b.convert(this), f = nbits(a) - 1;
    for (e.copyTo(c); --f >= 0;) if (b.sqrTo(c, d), (a & 1 << f) > 0) b.mulTo(d, e, c); else {
        var g = c;
        c = d, d = g
    }
    return b.revert(c)
}

function bnModPowInt(a, b) {
    var c;
    return c = a < 256 || b.isEven() ? new Classic(b) : new Montgomery(b), this.exp(a, c)
}

function Arcfour() {
    this.i = 0, this.j = 0, this.S = new Array
}

function ARC4init(a) {
    var b, c, d;
    for (b = 0; b < 256; ++b) this.S[b] = b;
    for (c = 0, b = 0; b < 256; ++b) c = c + this.S[b] + a[b % a.length] & 255, d = this.S[b], this.S[b] = this.S[c], this.S[c] = d;
    this.i = 0, this.j = 0
}

function ARC4next() {
    var a;
    return this.i = this.i + 1 & 255, this.j = this.j + this.S[this.i] & 255, a = this.S[this.i], this.S[this.i] = this.S[this.j], this.S[this.j] = a, this.S[a + this.S[this.i] & 255]
}

function prng_newstate() {
    return new Arcfour
}

function rng_seed_int(a) {
    rng_pool[rng_pptr++] ^= 255 & a, rng_pool[rng_pptr++] ^= a >> 8 & 255, rng_pool[rng_pptr++] ^= a >> 16 & 255, rng_pool[rng_pptr++] ^= a >> 24 & 255, rng_pptr >= rng_psize && (rng_pptr -= rng_psize)
}

function rng_seed_time() {
    rng_seed_int((new Date).getTime())
}

function rng_get_byte() {
    if (null == rng_state) {
        for (rng_seed_time(), rng_state = prng_newstate(), rng_state.init(rng_pool), rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr) rng_pool[rng_pptr] = 0;
        rng_pptr = 0
    }
    return rng_state.next()
}

function rng_get_bytes(a) {
    var b;
    for (b = 0; b < a.length; ++b) a[b] = rng_get_byte()
}

function SecureRandom() {
}

function parseBigInt(a, b) {
    return new BigInteger(a, b)
}

function linebrk(a, b) {
    for (var c = "", d = 0; d + b < a.length;) c += a.substring(d, d + b) + "\n", d += b;
    return c + a.substring(d, a.length)
}

function byte2Hex(a) {
    return a < 16 ? "0" + a.toString(16) : a.toString(16)
}

function pkcs1pad2(a, b) {
    if (b < a.length + 11) return alert("Message too long for RSA"), null;
    for (var c = new Array, d = a.length - 1; d >= 0 && b > 0;) {
        var e = a.charCodeAt(d--);
        e < 128 ? c[--b] = e : e > 127 && e < 2048 ? (c[--b] = 63 & e | 128, c[--b] = e >> 6 | 192) : (c[--b] = 63 & e | 128, c[--b] = e >> 6 & 63 | 128, c[--b] = e >> 12 | 224)
    }
    c[--b] = 0;
    for (var f = new SecureRandom, g = new Array; b > 2;) {
        for (g[0] = 0; 0 == g[0];) f.nextBytes(g);
        c[--b] = g[0]
    }
    return c[--b] = 2, c[--b] = 0, new BigInteger(c)
}

function RSAKey() {
    this.n = null, this.e = 0, this.d = null, this.p = null, this.q = null, this.dmp1 = null, this.dmq1 = null, this.coeff = null
}

function RSASetPublic(a, b) {
    null != a && null != b && a.length > 0 && b.length > 0 ? (this.n = parseBigInt(a, 16), this.e = parseInt(b, 16)) : alert("Invalid RSA public key")
}

function RSADoPublic(a) {
    return a.modPowInt(this.e, this.n)
}

function RSAEncrypt(a) {
    var b = pkcs1pad2(a, this.n.bitLength() + 7 >> 3);
    if (null == b) return null;
    var c = this.doPublic(b);
    if (null == c) return null;
    var d = c.toString(16);
    return 0 == (1 & d.length) ? d : "0" + d
}

function hex2b64(a) {
    var b, c, d = "";
    for (b = 0; b + 3 <= a.length; b += 3) c = parseInt(a.substring(b, b + 3), 16), d += b64map.charAt(c >> 6) + b64map.charAt(63 & c);
    for (b + 1 == a.length ? (c = parseInt(a.substring(b, b + 1), 16), d += b64map.charAt(c << 2)) : b + 2 == a.length && (c = parseInt(a.substring(b, b + 2), 16), d += b64map.charAt(c >> 2) + b64map.charAt((3 & c) << 4)); (3 & d.length) > 0;) d += b64padchar;
    return d
}

function b64tohex(a) {
    var b, c, d = "", e = 0;
    for (b = 0; b < a.length && a.charAt(b) != b64padchar; ++b) v = b64map.indexOf(a.charAt(b)), v < 0 || (0 == e ? (d += int2char(v >> 2), c = 3 & v, e = 1) : 1 == e ? (d += int2char(c << 2 | v >> 4), c = 15 & v, e = 2) : 2 == e ? (d += int2char(c), d += int2char(v >> 2), c = 3 & v, e = 3) : (d += int2char(c << 2 | v >> 4), d += int2char(15 & v), e = 0));
    return 1 == e && (d += int2char(c << 2)), d
}

function b64toBA(a) {
    var b, c = b64tohex(a), d = new Array;
    for (b = 0; 2 * b < c.length; ++b) d[b] = parseInt(c.substring(2 * b, 2 * b + 2), 16);
    return d
}

var superagentLegacyIESupportPlugin = function (a) {
    function b(a) {
        var b = document.createElement("a");
        return b.href = a, {hostname: b.hostname, protocol: b.protocol, pathname: b.pathname, queryString: b.search}
    }

    function c(a) {
        if (a !== Object(a)) return a;
        var b = [];
        for (var c in a) null != a[c] && b.push(encodeURIComponent(c) + "=" + encodeURIComponent(a[c]));
        return b.join("&")
    }

    var d = function (a) {
        var b = this, d = this.xhr = new XDomainRequest;
        d.getAllResponseHeaders = function () {
            return ""
        }, d.getResponseHeader = function (a) {
            if ("content-type" == a) return "application/json"
        };
        var e = this._query.join("&"), f = this._formData || this._data;
        if (this._callback = a || noop, d.onload = function () {
            d.status = 200, b.emit("end")
        }, d.onerror = function () {
            return d.status = 400, b.aborted ? b.timeoutError() : b.crossDomainError()
        }, d.onprogress = function () {
            b.emit("progress", 50)
        }, d.ontimeout = function () {
            return d.status = 408, b.timeoutError()
        }, e && (e = c(e), this.url += ~this.url.indexOf("?") ? "&" + e : "?" + e), "GET" != this.method && "POST" != this.method) throw"Only Get and Post methods are supported by XDomainRequest object.";
        return d.open(this.method, this.url, !0), "POST" == this.method && "string" != typeof f && (f = c(f)), this.emit("request", this), d.send(f), this
    };
    b(a.url).hostname != window.location.hostname && "undefined" != typeof XDomainRequest && (a.end = d)
}, dbits, canary = 0xdeadbeefcafe, j_lm = 15715070 == (16777215 & canary);
j_lm && "Microsoft Internet Explorer" == navigator.appName ? (BigInteger.prototype.am = am2, dbits = 30) : j_lm && "Netscape" != navigator.appName ? (BigInteger.prototype.am = am1, dbits = 26) : (BigInteger.prototype.am = am3, dbits = 28), BigInteger.prototype.DB = dbits, BigInteger.prototype.DM = (1 << dbits) - 1, BigInteger.prototype.DV = 1 << dbits;
var BI_FP = 52;
BigInteger.prototype.FV = Math.pow(2, BI_FP), BigInteger.prototype.F1 = BI_FP - dbits, BigInteger.prototype.F2 = 2 * dbits - BI_FP;
var BI_RM = "0123456789abcdefghijklmnopqrstuvwxyz", BI_RC = new Array, rr, vv;
for (rr = "0".charCodeAt(0), vv = 0; vv <= 9; ++vv) BI_RC[rr++] = vv;
for (rr = "a".charCodeAt(0), vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;
for (rr = "A".charCodeAt(0), vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;
Classic.prototype.convert = cConvert, Classic.prototype.revert = cRevert, Classic.prototype.reduce = cReduce, Classic.prototype.mulTo = cMulTo, Classic.prototype.sqrTo = cSqrTo, Montgomery.prototype.convert = montConvert, Montgomery.prototype.revert = montRevert, Montgomery.prototype.reduce = montReduce, Montgomery.prototype.mulTo = montMulTo, Montgomery.prototype.sqrTo = montSqrTo, BigInteger.prototype.copyTo = bnpCopyTo, BigInteger.prototype.fromInt = bnpFromInt, BigInteger.prototype.fromString = bnpFromString, BigInteger.prototype.clamp = bnpClamp, BigInteger.prototype.dlShiftTo = bnpDLShiftTo, BigInteger.prototype.drShiftTo = bnpDRShiftTo, BigInteger.prototype.lShiftTo = bnpLShiftTo, BigInteger.prototype.rShiftTo = bnpRShiftTo, BigInteger.prototype.subTo = bnpSubTo, BigInteger.prototype.multiplyTo = bnpMultiplyTo, BigInteger.prototype.squareTo = bnpSquareTo, BigInteger.prototype.divRemTo = bnpDivRemTo, BigInteger.prototype.invDigit = bnpInvDigit, BigInteger.prototype.isEven = bnpIsEven, BigInteger.prototype.exp = bnpExp, BigInteger.prototype.toString = bnToString, BigInteger.prototype.negate = bnNegate, BigInteger.prototype.abs = bnAbs, BigInteger.prototype.compareTo = bnCompareTo, BigInteger.prototype.bitLength = bnBitLength, BigInteger.prototype.mod = bnMod, BigInteger.prototype.modPowInt = bnModPowInt, BigInteger.ZERO = nbv(0), BigInteger.ONE = nbv(1), Arcfour.prototype.init = ARC4init, Arcfour.prototype.next = ARC4next;
var rng_psize = 256, rng_state, rng_pool, rng_pptr;
if (null == rng_pool) {
    rng_pool = new Array, rng_pptr = 0;
    var t;
    if (window.crypto && window.crypto.getRandomValues) {
        var ua = new Uint8Array(32);
        for (window.crypto.getRandomValues(ua), t = 0; t < 32; ++t) rng_pool[rng_pptr++] = ua[t]
    }
    if ("Netscape" == navigator.appName && navigator.appVersion < "5" && window.crypto) {
        var z = window.crypto.random(32);
        for (t = 0; t < z.length; ++t) rng_pool[rng_pptr++] = 255 & z.charCodeAt(t)
    }
    for (; rng_pptr < rng_psize;) t = Math.floor(65536 * Math.random()), rng_pool[rng_pptr++] = t >>> 8, rng_pool[rng_pptr++] = 255 & t;
    rng_pptr = 0, rng_seed_time()
}
SecureRandom.prototype.nextBytes = rng_get_bytes, RSAKey.prototype.doPublic = RSADoPublic, RSAKey.prototype.setPublic = RSASetPublic, RSAKey.prototype.encrypt = RSAEncrypt;
var b64map = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", b64padchar = "=";
!function (a) {
    if ("object" == typeof exports && "undefined" != typeof module) module.exports = a(); else if ("function" == typeof define && define.amd) define([], a); else {
        var b;
        b = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, b.superagent = a()
    }
}(function () {
    return function a(b, c, d) {
        function e(g, h) {
            if (!c[g]) {
                if (!b[g]) {
                    var i = "function" == typeof require && require;
                    if (!h && i) return i(g, !0);
                    if (f) return f(g, !0);
                    var j = new Error("Cannot find module '" + g + "'");
                    throw j.code = "MODULE_NOT_FOUND", j
                }
                var k = c[g] = {exports: {}};
                b[g][0].call(k.exports, function (a) {
                    var c = b[g][1][a];
                    return e(c || a)
                }, k, k.exports, a, b, c, d)
            }
            return c[g].exports
        }

        for (var f = "function" == typeof require && require, g = 0; g < d.length; g++) e(d[g]);
        return e
    }({
        1: [function (a, b, c) {
            function d() {
                this._defaults = []
            }

            ["use", "on", "once", "set", "query", "type", "accept", "auth", "withCredentials", "sortQuery", "retry", "ok", "redirects", "timeout", "buffer", "serialize", "parse", "ca", "key", "pfx", "cert"].forEach(function (a) {
                d.prototype[a] = function () {
                    return this._defaults.push({fn: a, arguments: arguments}), this
                }
            }), d.prototype._setDefaults = function (a) {
                this._defaults.forEach(function (b) {
                    a[b.fn].apply(a, b.arguments)
                })
            }, b.exports = d
        }, {}], 2: [function (a, b, c) {
            "use strict";

            function d(a) {
                return null !== a && "object" == typeof a
            }

            b.exports = d
        }, {}], 3: [function (a, b, c) {
            "use strict";

            function d(a) {
                if (a) return e(a)
            }

            function e(a) {
                for (var b in d.prototype) a[b] = d.prototype[b];
                return a
            }

            var f = a("./is-object");
            b.exports = d, d.prototype.clearTimeout = function () {
                return clearTimeout(this._timer), clearTimeout(this._responseTimeoutTimer), delete this._timer, delete this._responseTimeoutTimer, this
            }, d.prototype.parse = function (a) {
                return this._parser = a, this
            }, d.prototype.responseType = function (a) {
                return this._responseType = a, this
            }, d.prototype.serialize = function (a) {
                return this._serializer = a, this
            }, d.prototype.timeout = function (a) {
                if (!a || "object" != typeof a) return this._timeout = a, this._responseTimeout = 0, this;
                for (var b in a) switch (b) {
                    case"deadline":
                        this._timeout = a.deadline;
                        break;
                    case"response":
                        this._responseTimeout = a.response;
                        break;
                    default:
                        console.warn("Unknown timeout option", b)
                }
                return this
            }, d.prototype.retry = function (a, b) {
                return 0 !== arguments.length && !0 !== a || (a = 1), a <= 0 && (a = 0), this._maxRetries = a, this._retries = 0, this._retryCallback = b, this
            };
            var g = ["ECONNRESET", "ETIMEDOUT", "EADDRINFO", "ESOCKETTIMEDOUT"];
            d.prototype._shouldRetry = function (a, b) {
                if (!this._maxRetries || this._retries++ >= this._maxRetries) return !1;
                if (this._retryCallback) try {
                    var c = this._retryCallback(a, b);
                    if (!0 === c) return !0;
                    if (!1 === c) return !1
                } catch (a) {
                    console.error(a)
                }
                if (b && b.status && b.status >= 500 && 501 != b.status) return !0;
                if (a) {
                    if (a.code && ~g.indexOf(a.code)) return !0;
                    if (a.timeout && "ECONNABORTED" == a.code) return !0;
                    if (a.crossDomain) return !0
                }
                return !1
            }, d.prototype._retry = function () {
                return this.clearTimeout(), this.req && (this.req = null, this.req = this.request()), this._aborted = !1, this.timedout = !1, this._end()
            }, d.prototype.then = function (a, b) {
                if (!this._fullfilledPromise) {
                    var c = this;
                    this._endCalled && console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"), this._fullfilledPromise = new Promise(function (a, b) {
                        c.end(function (c, d) {
                            c ? b(c) : a(d)
                        })
                    })
                }
                return this._fullfilledPromise.then(a, b)
            }, d.prototype.catch = function (a) {
                return this.then(void 0, a)
            }, d.prototype.use = function (a) {
                return a(this), this
            }, d.prototype.ok = function (a) {
                if ("function" != typeof a) throw Error("Callback required");
                return this._okCallback = a, this
            }, d.prototype._isResponseOK = function (a) {
                return !!a && (this._okCallback ? this._okCallback(a) : a.status >= 200 && a.status < 300)
            }, d.prototype.get = function (a) {
                return this._header[a.toLowerCase()]
            }, d.prototype.getHeader = d.prototype.get, d.prototype.set = function (a, b) {
                if (f(a)) {
                    for (var c in a) this.set(c, a[c]);
                    return this
                }
                return this._header[a.toLowerCase()] = b, this.header[a] = b, this
            }, d.prototype.unset = function (a) {
                return delete this._header[a.toLowerCase()], delete this.header[a], this
            }, d.prototype.field = function (a, b) {
                if (null === a || void 0 === a) throw new Error(".field(name, val) name can not be empty");
                if (this._data && console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"), f(a)) {
                    for (var c in a) this.field(c, a[c]);
                    return this
                }
                if (Array.isArray(b)) {
                    for (var d in b) this.field(a, b[d]);
                    return this
                }
                if (null === b || void 0 === b) throw new Error(".field(name, val) val can not be empty");
                return "boolean" == typeof b && (b = "" + b), this._getFormData().append(a, b), this
            }, d.prototype.abort = function () {
                return this._aborted ? this : (this._aborted = !0, this.xhr && this.xhr.abort(), this.req && this.req.abort(), this.clearTimeout(), this.emit("abort"), this)
            }, d.prototype._auth = function (a, b, c, d) {
                switch (c.type) {
                    case"basic":
                        this.set("Authorization", "Basic " + d(a + ":" + b));
                        break;
                    case"auto":
                        this.username = a, this.password = b;
                        break;
                    case"bearer":
                        this.set("Authorization", "Bearer " + a)
                }
                return this
            }, d.prototype.withCredentials = function (a) {
                return void 0 == a && (a = !0), this._withCredentials = a, this
            }, d.prototype.redirects = function (a) {
                return this._maxRedirects = a, this
            }, d.prototype.maxResponseSize = function (a) {
                if ("number" != typeof a) throw TypeError("Invalid argument");
                return this._maxResponseSize = a, this
            }, d.prototype.toJSON = function () {
                return {method: this.method, url: this.url, data: this._data, headers: this._header}
            }, d.prototype.send = function (a) {
                var b = f(a), c = this._header["content-type"];
                if (this._formData && console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"), b && !this._data) Array.isArray(a) ? this._data = [] : this._isHost(a) || (this._data = {}); else if (a && this._data && this._isHost(this._data)) throw Error("Can't merge these send calls");
                if (b && f(this._data)) for (var d in a) this._data[d] = a[d]; else "string" == typeof a ? (c || this.type("form"), c = this._header["content-type"], this._data = "application/x-www-form-urlencoded" == c ? this._data ? this._data + "&" + a : a : (this._data || "") + a) : this._data = a;
                return !b || this._isHost(a) ? this : (c || this.type("json"), this)
            }, d.prototype.sortQuery = function (a) {
                return this._sort = void 0 === a || a, this
            }, d.prototype._finalizeQueryString = function () {
                var a = this._query.join("&");
                if (a && (this.url += (this.url.indexOf("?") >= 0 ? "&" : "?") + a), this._query.length = 0, this._sort) {
                    var b = this.url.indexOf("?");
                    if (b >= 0) {
                        var c = this.url.substring(b + 1).split("&");
                        "function" == typeof this._sort ? c.sort(this._sort) : c.sort(), this.url = this.url.substring(0, b) + "?" + c.join("&")
                    }
                }
            }, d.prototype._appendQueryString = function () {
                console.trace("Unsupported")
            }, d.prototype._timeoutError = function (a, b, c) {
                if (!this._aborted) {
                    var d = new Error(a + b + "ms exceeded");
                    d.timeout = b, d.code = "ECONNABORTED", d.errno = c, this.timedout = !0, this.abort(), this.callback(d)
                }
            }, d.prototype._setTimeouts = function () {
                var a = this;
                this._timeout && !this._timer && (this._timer = setTimeout(function () {
                    a._timeoutError("Timeout of ", a._timeout, "ETIME")
                }, this._timeout)), this._responseTimeout && !this._responseTimeoutTimer && (this._responseTimeoutTimer = setTimeout(function () {
                    a._timeoutError("Response timeout of ", a._responseTimeout, "ETIMEDOUT")
                }, this._responseTimeout))
            }
        }, {"./is-object": 2}], 4: [function (a, b, c) {
            "use strict";

            function d(a) {
                if (a) return e(a)
            }

            function e(a) {
                for (var b in d.prototype) a[b] = d.prototype[b];
                return a
            }

            var f = a("./utils");
            b.exports = d, d.prototype.get = function (a) {
                return this.header[a.toLowerCase()]
            }, d.prototype._setHeaderProperties = function (a) {
                var b = a["content-type"] || "";
                this.type = f.type(b);
                var c = f.params(b);
                for (var d in c) this[d] = c[d];
                this.links = {};
                try {
                    a.link && (this.links = f.parseLinks(a.link))
                } catch (a) {
                }
            }, d.prototype._setStatusProperties = function (a) {
                var b = a / 100 | 0;
                this.status = this.statusCode = a, this.statusType = b, this.info = 1 == b, this.ok = 2 == b, this.redirect = 3 == b, this.clientError = 4 == b, this.serverError = 5 == b, this.error = (4 == b || 5 == b) && this.toError(), this.accepted = 202 == a, this.noContent = 204 == a, this.badRequest = 400 == a, this.unauthorized = 401 == a, this.notAcceptable = 406 == a, this.forbidden = 403 == a, this.notFound = 404 == a
            }
        }, {"./utils": 5}], 5: [function (a, b, c) {
            "use strict";
            c.type = function (a) {
                return a.split(/ *; */).shift()
            }, c.params = function (a) {
                return a.split(/ *; */).reduce(function (a, b) {
                    var c = b.split(/ *= */), d = c.shift(), e = c.shift();
                    return d && e && (a[d] = e), a
                }, {})
            }, c.parseLinks = function (a) {
                return a.split(/ *, */).reduce(function (a, b) {
                    var c = b.split(/ *; */), d = c[0].slice(1, -1);
                    return a[c[1].split(/ *= */)[1].slice(1, -1)] = d, a
                }, {})
            }, c.cleanHeader = function (a, b) {
                return delete a["content-type"], delete a["content-length"], delete a["transfer-encoding"], delete a.host, b && (delete a.authorization, delete a.cookie), a
            }
        }, {}], 6: [function (a, b, c) {
            function d(a) {
                if (a) return e(a)
            }

            function e(a) {
                for (var b in d.prototype) a[b] = d.prototype[b];
                return a
            }

            void 0 !== b && (b.exports = d), d.prototype.on = d.prototype.addEventListener = function (a, b) {
                return this._callbacks = this._callbacks || {}, (this._callbacks["$" + a] = this._callbacks["$" + a] || []).push(b), this
            }, d.prototype.once = function (a, b) {
                function c() {
                    this.off(a, c), b.apply(this, arguments)
                }

                return c.fn = b, this.on(a, c), this
            }, d.prototype.off = d.prototype.removeListener = d.prototype.removeAllListeners = d.prototype.removeEventListener = function (a, b) {
                if (this._callbacks = this._callbacks || {}, 0 == arguments.length) return this._callbacks = {}, this;
                var c = this._callbacks["$" + a];
                if (!c) return this;
                if (1 == arguments.length) return delete this._callbacks["$" + a], this;
                for (var d, e = 0; e < c.length; e++) if ((d = c[e]) === b || d.fn === b) {
                    c.splice(e, 1);
                    break
                }
                return this
            }, d.prototype.emit = function (a) {
                this._callbacks = this._callbacks || {};
                var b = [].slice.call(arguments, 1), c = this._callbacks["$" + a];
                if (c) {
                    c = c.slice(0);
                    for (var d = 0, e = c.length; d < e; ++d) c[d].apply(this, b)
                }
                return this
            }, d.prototype.listeners = function (a) {
                return this._callbacks = this._callbacks || {}, this._callbacks["$" + a] || []
            }, d.prototype.hasListeners = function (a) {
                return !!this.listeners(a).length
            }
        }, {}], 7: [function (a, b, c) {
            function d() {
            }

            function e(a) {
                if (!p(a)) return a;
                var b = [];
                for (var c in a) f(b, c, a[c]);
                return b.join("&")
            }

            function f(a, b, c) {
                if (null != c) if (Array.isArray(c)) c.forEach(function (c) {
                    f(a, b, c)
                }); else if (p(c)) for (var d in c) f(a, b + "[" + d + "]", c[d]); else a.push(encodeURIComponent(b) + "=" + encodeURIComponent(c)); else null === c && a.push(encodeURIComponent(b))
            }

            function g(a) {
                for (var b, c, d = {}, e = a.split("&"), f = 0, g = e.length; f < g; ++f) b = e[f], c = b.indexOf("="), -1 == c ? d[decodeURIComponent(b)] = "" : d[decodeURIComponent(b.slice(0, c))] = decodeURIComponent(b.slice(c + 1));
                return d
            }

            function h(a) {
                for (var b, c, d, e, f = a.split(/\r?\n/), g = {}, h = 0, i = f.length; h < i; ++h) c = f[h], -1 !== (b = c.indexOf(":")) && (d = c.slice(0, b).toLowerCase(), e = t(c.slice(b + 1)), g[d] = e);
                return g
            }

            function i(a) {
                return /[\/+]json\b/.test(a)
            }

            function j(a) {
                this.req = a, this.xhr = this.req.xhr, this.text = "HEAD" != this.req.method && ("" === this.xhr.responseType || "text" === this.xhr.responseType) || void 0 === this.xhr.responseType ? this.xhr.responseText : null, this.statusText = this.req.xhr.statusText;
                var b = this.xhr.status;
                1223 === b && (b = 204), this._setStatusProperties(b), this.header = this.headers = h(this.xhr.getAllResponseHeaders()), this.header["content-type"] = this.xhr.getResponseHeader("content-type"), this._setHeaderProperties(this.header), null === this.text && a._responseType ? this.body = this.xhr.response : this.body = "HEAD" != this.req.method ? this._parseBody(this.text ? this.text : this.xhr.response) : null
            }

            function k(a, b) {
                var c = this;
                this._query = this._query || [], this.method = a, this.url = b, this.header = {}, this._header = {}, this.on("end", function () {
                    var a = null, b = null;
                    try {
                        b = new j(c)
                    } catch (b) {
                        return a = new Error("Parser is unable to parse the response"), a.parse = !0, a.original = b, c.xhr ? (a.rawResponse = void 0 === c.xhr.responseType ? c.xhr.responseText : c.xhr.response, a.status = c.xhr.status ? c.xhr.status : null, a.statusCode = a.status) : (a.rawResponse = null, a.status = null), c.callback(a)
                    }
                    c.emit("response", b);
                    var d;
                    try {
                        c._isResponseOK(b) || (d = new Error(b.statusText || "Unsuccessful HTTP response"))
                    } catch (a) {
                        d = a
                    }
                    d ? (d.original = a, d.response = b, d.status = b.status, c.callback(d, b)) : c.callback(null, b)
                })
            }

            function l(a, b, c) {
                var d = s("DELETE", a);
                return "function" == typeof b && (c = b, b = null), b && d.send(b), c && d.end(c), d
            }

            var m;
            "undefined" != typeof window ? m = window : "undefined" != typeof self ? m = self : (console.warn("Using browser-only version of superagent in non-browser environment"), m = this);
            var n = a("component-emitter"), o = a("./request-base"), p = a("./is-object"), q = a("./response-base"),
                r = a("./agent-base"), s = c = b.exports = function (a, b) {
                    return "function" == typeof b ? new c.Request("GET", a).end(b) : 1 == arguments.length ? new c.Request("GET", a) : new c.Request(a, b)
                };
            c.Request = k, s.getXHR = function () {
                if (!(!m.XMLHttpRequest || m.location && "file:" == m.location.protocol && m.ActiveXObject)) return new XMLHttpRequest;
                try {
                    return new ActiveXObject("Microsoft.XMLHTTP")
                } catch (a) {
                }
                try {
                    return new ActiveXObject("Msxml2.XMLHTTP.6.0")
                } catch (a) {
                }
                try {
                    return new ActiveXObject("Msxml2.XMLHTTP.3.0")
                } catch (a) {
                }
                try {
                    return new ActiveXObject("Msxml2.XMLHTTP")
                } catch (a) {
                }
                throw Error("Browser-only version of superagent could not find XHR")
            };
            var t = "".trim ? function (a) {
                return a.trim()
            } : function (a) {
                return a.replace(/(^\s*|\s*$)/g, "")
            };
            s.serializeObject = e, s.parseString = g, s.types = {
                html: "text/html",
                json: "application/json",
                xml: "text/xml",
                urlencoded: "application/x-www-form-urlencoded",
                form: "application/x-www-form-urlencoded",
                "form-data": "application/x-www-form-urlencoded"
            }, s.serialize = {
                "application/x-www-form-urlencoded": e,
                "application/json": JSON.stringify
            }, s.parse = {
                "application/x-www-form-urlencoded": g,
                "application/json": JSON.parse
            }, q(j.prototype), j.prototype._parseBody = function (a) {
                var b = s.parse[this.type];
                return this.req._parser ? this.req._parser(this, a) : (!b && i(this.type) && (b = s.parse["application/json"]), b && a && (a.length || a instanceof Object) ? b(a) : null)
            }, j.prototype.toError = function () {
                var a = this.req, b = a.method, c = a.url, d = "cannot " + b + " " + c + " (" + this.status + ")",
                    e = new Error(d);
                return e.status = this.status, e.method = b, e.url = c, e
            }, s.Response = j, n(k.prototype), o(k.prototype), k.prototype.type = function (a) {
                return this.set("Content-Type", s.types[a] || a), this
            }, k.prototype.accept = function (a) {
                return this.set("Accept", s.types[a] || a), this
            }, k.prototype.auth = function (a, b, c) {
                1 === arguments.length && (b = ""), "object" == typeof b && null !== b && (c = b, b = ""), c || (c = {type: "function" == typeof btoa ? "basic" : "auto"});
                var d = function (a) {
                    if ("function" == typeof btoa) return btoa(a);
                    throw new Error("Cannot use basic auth, btoa is not a function")
                };
                return this._auth(a, b, c, d)
            }, k.prototype.query = function (a) {
                return "string" != typeof a && (a = e(a)), a && this._query.push(a), this
            }, k.prototype.attach = function (a, b, c) {
                if (b) {
                    if (this._data) throw Error("superagent can't mix .send() and .attach()");
                    this._getFormData().append(a, b, c || b.name)
                }
                return this
            }, k.prototype._getFormData = function () {
                return this._formData || (this._formData = new m.FormData), this._formData
            }, k.prototype.callback = function (a, b) {
                if (this._shouldRetry(a, b)) return this._retry();
                var c = this._callback;
                this.clearTimeout(), a && (this._maxRetries && (a.retries = this._retries - 1), this.emit("error", a)), c(a, b)
            }, k.prototype.crossDomainError = function () {
                var a = new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");
                a.crossDomain = !0, a.status = this.status, a.method = this.method, a.url = this.url, this.callback(a)
            }, k.prototype.buffer = k.prototype.ca = k.prototype.agent = function () {
                return console.warn("This is not supported in browser version of superagent"), this
            }, k.prototype.pipe = k.prototype.write = function () {
                throw Error("Streaming is not supported in browser version of superagent")
            }, k.prototype._isHost = function (a) {
                return a && "object" == typeof a && !Array.isArray(a) && "[object Object]" !== Object.prototype.toString.call(a)
            }, k.prototype.end = function (a) {
                return this._endCalled && console.warn("Warning: .end() was called twice. This is not supported in superagent"), this._endCalled = !0, this._callback = a || d, this._finalizeQueryString(), this._end()
            }, k.prototype._end = function () {
                var a = this, b = this.xhr = s.getXHR(), c = this._formData || this._data;
                this._setTimeouts(), b.onreadystatechange = function () {
                    var c = b.readyState;
                    if (c >= 2 && a._responseTimeoutTimer && clearTimeout(a._responseTimeoutTimer), 4 == c) {
                        var d;
                        try {
                            d = b.status
                        } catch (a) {
                            d = 0
                        }
                        if (!d) {
                            if (a.timedout || a._aborted) return;
                            return a.crossDomainError()
                        }
                        a.emit("end")
                    }
                };
                var d = function (b, c) {
                    c.total > 0 && (c.percent = c.loaded / c.total * 100), c.direction = b, a.emit("progress", c)
                };
                if (this.hasListeners("progress")) try {
                    b.onprogress = d.bind(null, "download"), b.upload && (b.upload.onprogress = d.bind(null, "upload"))
                } catch (a) {
                }
                try {
                    this.username && this.password ? b.open(this.method, this.url, !0, this.username, this.password) : b.open(this.method, this.url, !0)
                } catch (a) {
                    return this.callback(a)
                }
                if (this._withCredentials && (b.withCredentials = !0), !this._formData && "GET" != this.method && "HEAD" != this.method && "string" != typeof c && !this._isHost(c)) {
                    var e = this._header["content-type"], f = this._serializer || s.serialize[e ? e.split(";")[0] : ""];
                    !f && i(e) && (f = s.serialize["application/json"]), f && (c = f(c))
                }
                for (var g in this.header) null != this.header[g] && this.header.hasOwnProperty(g) && b.setRequestHeader(g, this.header[g]);
                return this._responseType && (b.responseType = this._responseType), this.emit("request", this), b.send(void 0 !== c ? c : null), this
            }, s.agent = function () {
                return new r
            }, ["GET", "POST", "OPTIONS", "PATCH", "PUT", "DELETE"].forEach(function (a) {
                r.prototype[a.toLowerCase()] = function (b, c) {
                    var d = new s.Request(a, b);
                    return this._setDefaults(d), c && d.end(c), d
                }
            }), r.prototype.del = r.prototype.delete, s.get = function (a, b, c) {
                var d = s("GET", a);
                return "function" == typeof b && (c = b, b = null), b && d.query(b), c && d.end(c), d
            }, s.head = function (a, b, c) {
                var d = s("HEAD", a);
                return "function" == typeof b && (c = b, b = null), b && d.query(b), c && d.end(c), d
            }, s.options = function (a, b, c) {
                var d = s("OPTIONS", a);
                return "function" == typeof b && (c = b, b = null), b && d.send(b), c && d.end(c), d
            }, s.del = l, s.delete = l, s.patch = function (a, b, c) {
                var d = s("PATCH", a);
                return "function" == typeof b && (c = b, b = null), b && d.send(b), c && d.end(c), d
            }, s.post = function (a, b, c) {
                var d = s("POST", a);
                return "function" == typeof b && (c = b, b = null), b && d.send(b), c && d.end(c), d
            }, s.put = function (a, b, c) {
                var d = s("PUT", a);
                return "function" == typeof b && (c = b, b = null), b && d.send(b), c && d.end(c), d
            }
        }, {
            "./agent-base": 1, "./is-object": 2, "./request-base": 3,
            "./response-base": 4, "component-emitter": 6
        }]
    }, {}, [7])(7)
}), function () {
    var a = superagent, b = superagentLegacyIESupportPlugin, c = "https",
        d = "test.masterpassturkiye.com/MasterpassJsonServerHandler/v2", e = c + "://" + d, f = "", g = new RSAKey;
    g.setPublic("F619C53A37BAB059C583DA9AC4E2920FFC9D57E00885E82F7A0863DEAC43CE06374E45A1417DAC907C6CAC0AF1DDF1D7152192FED7A1D9255C97BC27E420E0742B95ED3C53C62995F42CB6EEDB7B1FBDD3E4F4A4AA935650DA81E763CA7074690032F6A6AF72802CC50394C2AFA5C9450A990E6F969A38571C8BC9E381125D2BEEC348AF919D7374FF10DC3E0B4367566CE929AD6EA323A475A677EB41C20B42D44E82E8A53DD52334D927394FCADF09", "03"), this.MFS = function () {
        var c, d, h, i = {
            registerCard: ["actionType", "clientIp", "delinkReason", "eActionType", "cardTypeFlag", "cpinFlag", "defaultAccount", "mmrpConfig", "identityVerificationFlag", "mobileAccountConfig", "msisdn", "referenceNo", "sendSms", "sendSmsLanguage", "timeZone", "uiChannelType", "rtaPan", "expiryDate", "accountAliasName", "cvc", "homeAddress", "homeCity", "homeState", "homeCountryCode", "homePostalCode", "firstName", "lastName", "email", "cardHolderName", "token"],
            deleteCard: ["msisdn", "referenceNo", "sendSms", "sendSmsLanguage", "accountAliasName", "token"],
            validateTransaction: ["validationCode", "sendSms", "sendSmsLanguage", "referenceNo", "token"],
            purchase: ["aav", "amount", "clientIp", "encCPin", "encPassword", "listAccountName", "msisdn", "password", "referenceNo", "sendSms", "sendSmsLanguage", "sendSmsMerchant", "userId", "token", "rewardName", "rewardValue", "moneyCardInvoiceAmount", "moneyCardMigrosDiscountAmount", "moneyCardPaymentAmount", "moneyCardExtraDiscountAmount", "moneyCardProductBasedDiscountAmount", "installmentCount", "cvc", "macroMerchantId", "orderNo", "paymentType"],
            forgotPassword: ["msisdn", "encPan", "token", "referenceNo", "sendSms", "sendSmsLanguage", "cvv"],
            checkMasterPass: ["userId", "token", "referenceNo", "sendSms", "sendSmsLanguage"],
            addCardToMasterPass: ["msisdn", "cardAliasName", "token", "referenceNo", "sendSms", "sendSmsLanguage"],
            linkCardToClient: ["msisdn", "cardAliasName", "token", "referenceNo", "sendSms", "sendSmsLanguage"],
            directPurchase: ["token", "msisdn", "sendSmsLanguage", "fP", "amount", "expiryDate", "rtaPan", "cardHolderName", "cvc", "macroMerchantId", "orderNo", "paymentType", "installmentCount", "rewardName", "rewardValue"],
            completeRegistration: ["sendSmsLanguage", "msisdn", "token", "cardAliasName", "fP", "referenceNo", "sendSms"],
            resendOtp: ["token", "validationRefNo", "sendSmsLanguage", "fP", "expiryDate", "referenceNo", "sendSms"],
            updateUser: ["token", "msisdn", "oldValue", "theNewValue", "valueType", "sendSmsLanguage", "fP", "referenceNo", "sendSms"],
            verifyPin: ["token", "msisdn", "sendSmsLanguage", "fP", "referenceNo", "sendSms"],
            purchaseAndRegister: ["msisdn", "accountAliasName", "token", "referenceNo", "sendSms", "sendSmsLanguage", "fP", "amount", "actionType", "firstName", "lastName", "gender", "expiryDate", "rtaPan", "cardHolderName", "orderNo", "merchantId", "rewardName", "rewardValue", "moneyCardInvoiceAmount", "moneyCardMigrosDiscountAmount", "moneyCardPaymentAmount", "moneyCardExtraDiscountAmount", "moneyCardProductBasedDiscountAmount", "installmentCount", "cvc", "macroMerchantId", "orderNo", "paymentType"],
            parseQrCode: ["msisdn", "token", "referenceNo", "sendSms", "sendSmsLanguage"],
            initiateRecurringPayment: ["msisdn", "token", "listAccountName", "amount", "endDate", "actionType", "referenceNo", "sendSms", "sendSmsLanguage", "productId"]
        }, j = !1, k = !1, l = function (a) {
            return function (b) {
                for (var c, d = b.length, e = 1, f = 0; d;) c = parseInt(b.charAt(--d), 10), f += (e ^= 1) ? a[c] : c;
                return f && f % 10 == 0
            }
        }([0, 2, 4, 6, 8, 1, 3, 5, 7, 9]), m = function (a, b) {
            for (var c = a.find("input"), d = c.length - 1; d >= 0; d--) {
                var e = c[d].getAttribute("type");
                if (c[d].getAttribute("name") == b) {
                    if ("cardAliasName" == b || "accountAliasName" == b || "cardHolderName" == b || "listAccountName" == b || "productId" == b) return encodeURIComponent(c[d].value);
                    if ("validationCode" == b) {
                        if (j) return g.encrypt(c[d].value);
                        if (k) {
                            var f = c[d].value.replace(".", "").replace(",", "");
                            return 3 == f.length ? f : f.concat("0")
                        }
                    }
                    if ("rtaPan" == b) return l(c[d].value) ? g.encrypt(c[d].value) : "";
                    if ("cvv" == b || "cvc" == b) return 3 != c[d].value.length && 4 != c[d].value.length ? "" : g.encrypt(c[d].value);
                    if ("installmentCount" == b && "" !== c[d].value && !isNaN(c[d].value)) return parseFloat(c[d].value);
                    if (("checkbox" == e || "radio" == e) && !c[d].checked) continue;
                    return c[d].value
                }
            }
            return null
        }, n = function (a, b, c) {
            for (var d = c.length - 1; d >= 0; d--) {
                var e = c[d];
                b[e] = m(a, e)
            }
            b.fp = f, b.additionalParams = h
        }, o = function (a) {
            var b = JSON.parse(a.text || {}), c = {};
            if (b.hasOwnProperty("Data")) {
                c.referenceNo = b.Data.Body.Fault.Detail.ServiceFaultDetail.RefNo, c.responseCode = b.Data.Body.Fault.Detail.ServiceFaultDetail.ResponseCode, c.responseDescription = b.Data.Body.Fault.Detail.ServiceFaultDetail.ResponseDesc, c.url3D = b.Data.Body.Fault.Detail.ServiceFaultDetail.Url3D, c.url3DSuccess = b.Data.Body.Fault.Detail.ServiceFaultDetail.Url3DSuccess, c.url3DError = b.Data.Body.Fault.Detail.ServiceFaultDetail.Url3DError, c.newMsisdn = b.Data.Body.Fault.Detail.ServiceFaultDetail.NewMsisdn, c.internalResponseCode = b.Data.Body.Fault.Detail.ServiceFaultDetail.InternalResponseCode, c.internalResponseDescription = b.Data.Body.Fault.Detail.ServiceFaultDetail.InternalResponseMessage;
                var e = b.Data.Body.Fault.Detail.ServiceFaultDetail.Token, f = "";
                if (b.Data.Body.hasOwnProperty("Response")) {
                    f = b.Data.Body.Response.Result.TransactionBody.Token, c.token = f;
                    var g = "";
                    b.Data.Body.Response.Result.TransactionBody.hasOwnProperty("RefNo") && "" !== b.Data.Body.Response.Result.TransactionBody.RefNo && (g = b.Data.Body.Response.Result.TransactionBody.RefNo), b.Data.Body.Fault.Detail.ServiceFaultDetail.hasOwnProperty("RefNo") && "" !== b.Data.Body.Fault.Detail.ServiceFaultDetail.RefNo && (g = b.Data.Body.Fault.Detail.ServiceFaultDetail.RefNo), c.transactionId = g;
                    var h = b.Data.Body.Response.Result.TransactionBody.ListItems;
                    try {
                        h && 0 !== h.ListItem && (c.cards = h.ListItem)
                    } catch (a) {
                    }
                    c.accountStatus = b.Data.Body.Response.Result.TransactionBody.AccountStatus, c.amount = b.Data.Body.Response.Result.TransactionBody.Amount, c.orderNo = b.Data.Body.Response.Result.TransactionBody.OrderNo, c.installmentCount = b.Data.Body.Response.Result.TransactionBody.InstallmentCount
                }
                e && 0 !== e.length ? d = e : c.token = f
            }
            return c
        }, p = function (d, f, g) {
            d.clientId = c;
            var h = (new Date).toJSON();
            h = h.replace(/"/g, ""), d.dateTime = h, d.version = "35", d.clientType = "1", a.post(e + f).use(b).send(JSON.stringify(d)).end(function (a, b) {
                var c = o(b);
                g(b.status, c)
            })
        }, q = function (a, b) {
            var c = {};
            n(a, c, i.purchase), p(c, "/remotePurchaseOther", b)
        }, r = function (a, b) {
            var c = {};
            n(a, c, i.registerCard), p(c, "/register", b)
        }, s = function (a, b) {
            var c = {};
            n(a, c, i.deleteCard), p(c, "/deleteCard", b)
        }, t = function (a, b) {
            var c = {};
            n(a, c, i.updateUser), p(c, "/updateUser", b)
        }, u = function (a, b) {
            var c = {};
            n(a, c, i.forgotPassword), p(c, "/forgotPassword", b)
        }, v = function (a, b) {
            var c = {};
            n(a, c, i.checkMasterPass), p(c, "/checkMasterPassEndUser", b)
        }, w = function (a, b) {
            var c = {};
            n(a, c, i.addCardToMasterPass), p(c, "/addCardToMasterPass", b)
        }, x = function (a, b) {
            var c = {};
            n(a, c, i.linkCardToClient), p(c, "/linkCardToClient", b)
        }, y = function (a, b) {
            var c = {};
            n(a, c, i.parseQrCode), p(c, "/QrPaymentVerify", b)
        }, z = function (a, b) {
            var c = {};
            n(a, c, i.initiateRecurringPayment), p(c, "/initiateManageRecurringPayment", b)
        }, A = function (a) {
            var b = {};
            b.referenceNo = "00000000", b.sendSms = "N", b.sendSmsLanguage = "eng", b.token = a, p(b, "/commitTransaction", function () {
            })
        }, B = function (a, b) {
            var c = a.find("input[name^='pinType']")[0];
            j = "mpin" == c.value || "cvv" == c.value, "rta" == c.value && (k = !0);
            var e = {};
            e.validationRefNo = d, n(a, e, i.validateTransaction), p(e, "/validateTransaction", b)
        }, C = function (a, b) {
            var c = {};
            c.validationRefNo = d, n(a, c, i.purchaseAndRegister), p(c, "/purchaseAndRegister", b)
        }, D = function (a, b, c) {
            var d = {};
            d.token2 = b, n(a, d, i.completeRegistration), p(d, "/completeRegistration", c)
        }, E = function (a, b, c) {
            var d = {};
            d.msisdn = a, d.token = b, d.referenceNo = "00000000", d.listType = "ACCOUNT", d.sendSms = "Y", d.clientIp = "", d.sendSmsLanguage = "eng", p(d, "/listManagement", c)
        }, F = function (a, b, c) {
            var d = {};
            d.validationRefNo = a, d.referenceNo = "00000000", d.sendSms = "N", d.sendSmsLanguage = b, p(d, "/resendOtp", c)
        }, G = function (a, b) {
            var c = {};
            n(a, c, i.directPurchase), p(c, "/directPurchase", b)
        }, H = function (a, b) {
            var c = {};
            n(a, c, i.verifyPin), p(c, "/verifyPin", b)
        }, I = function (a) {
            c = a
        }, J = function (a) {
            e = a
        }, K = function (a) {
            f = a
        }, L = function () {
            return d
        };
        return {
            setClientId: I,
            listCards: E,
            register: r,
            purchase: q,
            commit: A,
            deleteCard: s,
            validateTransaction: B,
            forgotPassword: u,
            setAddress: J,
            checkMasterPass: v,
            linkCardToClient: x,
            addCardToMasterPass: w,
            purchaseAndRegister: C,
            directPurchase: G,
            resendOtp: F,
            completeRegistration: D,
            setFingerprint: K,
            setToken: function (a) {
                d = a
            },
            getLastToken: L,
            updateUser: t,
            verifyPin: H,
            parseQrCode: y,
            initiateRecurringPayment: z,
            setAdditionalParameters: function (a) {
                h = a
            }
        }
    }()
}.call(this);